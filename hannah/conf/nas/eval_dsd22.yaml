data:
  KWS_10uw: /local/trained_models/dsd22_kws_10uw/conv_net_trax
  KWS_5uw: /local/trained_models/dsd22_kws_5uw/conv_net_trax
  #KWS_1uw: /local/trained_models/dsd22_kws_1uw/conv_net_trax
  #KWS_10uw_of: trained_models/dsd22_kws_10uw/conv_net_trax/
  #KWS_10uw_old: /local/trained_models/nas_kws2/conv_net_trax
  #KWS_5uw:  /local/trained_models/nas_kws_5uw/conv_net_trax
  WWD_5uw:  /local/trained_models/nas2_snips_5uw/conv_net_trax
  WWD_1uw:  /local/trained_models/nas2_snips_1uw/conv_net_trax


metrics:
  val_accuracy:
    name: Val Accuracy [%]
    derived: (1.0 - data["val_error"]).astype(float) * 100.0
  test_accuracy:
    name:  Test Accuracy [%]
    derived: data["test_accuracy"].astype(float) * 100.0
  power_uw:
    name: Power [$uW$]
    derived: data["acc_power"].astype(float) * 1000000
  acc_area:
    name: Area
  acc_latency:
    name: Latency
    derived: data["acc_clock_cycles"].astype(float) / 250000
  acc_power:
    name: Power


plots:
  # Comparison plots 2-3 metrics using y, x and size as visualization points
  - type: comparison
    name: accuracy_power_latency
    metrics:
      - val_accuracy
      - power_uw
      - acc_latency


  - type: comparison
    name: accuracy_power_area
    metrics:
      - val_accuracy
      - power_uw
      - acc_area

  - type: comparison
    name: test_accuracy_power_latency
    metrics:
      - test_accuracy
      - power_uw
      - acc_latency


  - type: comparison
    name: test_accuracy_power_area
    metrics:
      - test_accuracy
      - power_uw
      - acc_area

extract:
  KWS_10uw:
    bounds:
        test_error: 0.06
        power_uw: 9.0
        acc_latency: 0.1

  KWS_5uw:
    bounds:
        test_error: 0.07
        power_uw: 5.05
        acc_latency: 0.1

  #WWD_1uw:
  #  bounds:
  #      val_error: 0.04
  #      power_uw: 0.5
  #      acc_latency: 0.1


experiment: nas_dsd22
force: false

hydra:
  run:
    dir: ./nas_results/${experiment}
